# ===== Modern CLI Replacements =====
if command -v eza &> /dev/null; then
  alias ls="eza --icons"
  alias ll="eza -lh --icons --git"
  alias la="eza -lah --icons --git"
  alias lt="eza --tree --icons --git-ignore"
fi

if command -v bat &> /dev/null; then
  alias cat="bat --style=plain"
  alias ccat="bat"  # colored cat
fi

if command -v zoxide &> /dev/null; then
  alias cd="z"
fi

# ===== Git Shortcuts =====
alias g="git"
alias gs="git status"
alias ga="git add"
alias gc="git commit"
alias gp="git push"
alias gpl="git pull"
alias gd="git diff"
alias gco="git checkout"
alias gb="git branch"
alias gl="git log --oneline --graph --decorate"
alias glog="git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"

# ===== Python Development =====
alias py="python3"
alias python="python3"
alias pip="python3 -m pip"
alias venv="python3 -m venv venv"
alias activate="source venv/bin/activate"
alias pyclean="find . -type f -name '*.py[co]' -delete -o -type d -name __pycache__ -delete"

# uv shortcuts
alias uvi="uv pip install"
alias uvr="uv pip install -r requirements.txt"
alias uvs="uv pip sync"

# ruff (linter/formatter)
alias rf="ruff check"
alias rff="ruff check --fix"
alias rfmt="ruff format"

# ===== Node/TypeScript Development =====
alias ni="npm install"
alias nr="npm run"
alias nrd="npm run dev"
alias nrb="npm run build"
alias nrt="npm run test"
alias ns="npm start"
alias ys="yarn start"
alias yb="yarn build"
alias yd="yarn dev"

# pnpm
alias pi="pnpm install"
alias pa="pnpm add"
alias pr="pnpm run"
alias prd="pnpm run dev"
alias prb="pnpm run build"
alias prt="pnpm run test"
alias px="pnpm dlx"

# ===== Utilities =====
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias ~="cd ~"
alias reload="source ~/.zshrc"
alias zshconfig="cursor ~/.zshrc"
alias aliases="cursor ~/.zsh_aliases"

# Clear screen
alias c="clear"

# Copy pwd to clipboard
alias cpwd="pwd | pbcopy"

# Make and change to directory
mkcd() {
  mkdir -p "$1" && cd "$1"
}

# Quick HTTP server
alias serve="python3 -m http.server"

# Find process using port
port() {
  lsof -i :"$1"
}

# Kill process on port
killport() {
  lsof -ti :"$1" | xargs kill -9
}

# ===== Docker & Colima =====
alias d="docker"
alias dc="docker compose"
alias dps="docker ps"
alias dimg="docker images"
alias dcup="docker compose up -d"
alias dcdown="docker compose down"
alias dclogs="docker compose logs -f"
alias colstart="colima start"
alias colstop="colima stop"

# ===== Kubernetes =====
alias k="kubectl"
alias kgp="kubectl get pods"
alias kgs="kubectl get svc"
alias kgd="kubectl get deployments"
alias kga="kubectl get all"
alias kaf="kubectl apply -f"
alias kdf="kubectl delete -f"
alias klogs="kubectl logs -f"
alias kexec="kubectl exec -it"
alias kctx="kubectl config use-context"
alias kns="kubectl config set-context --current --namespace"
alias h="helm"
alias k9="k9s"

# ===== Go Development =====
alias gol="golangci-lint run"
alias golf="golangci-lint run --fix"
alias godev="air"
alias got="go test ./..."
alias gotv="go test -v ./..."
alias gob="go build"
alias gor="go run ."
alias gomod="go mod tidy"

# ===== Terraform / OpenTofu =====
alias tf="tofu"
alias tfi="tofu init"
alias tfp="tofu plan"
alias tfa="tofu apply"
alias tfd="tofu destroy"
alias tfv="tofu validate"
alias tff="tofu fmt -recursive"

# ===== Cloud CLIs =====
alias awslogin="aws sso login"
alias azlogin="az login"
alias gclogin="gcloud auth login"

# ===== Graphite (Stacked PRs) =====
alias gts="gt status"
alias gtc="gt create"
alias gtsub="gt submit --no-interactive"
alias gtup="gt up"
alias gtdn="gt down"
alias gtsync="gt sync"

# ===== AI Tools =====
alias cl="claude"
alias cx="codex"
alias am="amp"

# ===== Search (ripgrep & fd) =====
alias rg="rg --smart-case"
alias rgf="rg --files-with-matches"
alias fdf="fd --type f"
alias fdd="fd --type d"

# ===== Safe delete =====
alias rm="trash"

# ===== System =====
alias update="brew update && brew upgrade && brew cleanup"
alias myip="curl ifconfig.me"
